{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["// Під час завантаження сторінки перевіряй стан сховища, і якщо там є збережені дані, то заповнюй ними поля форми. В іншому випадку поля повинні бути порожніми.\n// Під час сабміту форми очищай сховище і поля форми, а також виводь у консоль об'єкт з полями email, message та їхніми поточними значеннями.\n\nconst form = document.querySelector(\".feedback-form\");\n\nform.addEventListener(\"input\", saveToLocaleStorage);\nform.addEventListener(\"submit\", onSubmit);\n\nfunction saveToLocaleStorage(event) {\n    const formData = {\n        email: event.currentTarget.elements.email.value.trim(),\n        message: event.currentTarget.elements.message.value.trim()\n    };\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n}\n\nfunction clearFormInputs() {\n  form.elements.email.value = '';\n  form.elements.message.value = '';\n};\n\nconst setFormInputValues = (formRef, { email, message }) => {\n    formRef.elements.email.value = email  ?? '';\n  formRef.elements.message.value = message ?? '';\n};\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    \n     const { email, message } = event.currentTarget.elements;\n    if (!email.value && !message.value) {\n        return alert(\"Email and message inputs should be filled in\")\n    };\n\n    const data = {\n        email: event.currentTarget.elements.email.value.trim(),\n        message: event.currentTarget.elements.message.value.trim()\n    }\n    console.log(data)\n\n    clearFormInputs();\n    localStorage.removeItem(\"feedback-form-state\");\n};\n\nfunction initializeFormData() {\n  try {\n    const formData =\n      JSON.parse(localStorage.getItem('feedback-form-state')) ?? {};\n\n    setFormInputValues(form, formData);\n  } catch (err) {\n    console.error(err);\n  }\n};\n\ninitializeFormData();\n"],"names":["form","saveToLocaleStorage","onSubmit","event","formData","clearFormInputs","setFormInputValues","formRef","email","message","data","initializeFormData","err"],"mappings":"oCAGA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAmB,EAClDD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASD,EAAoBE,EAAO,CAChC,MAAMC,EAAW,CACb,MAAOD,EAAM,cAAc,SAAS,MAAM,MAAM,KAAM,EACtD,QAASA,EAAM,cAAc,SAAS,QAAQ,MAAM,KAAM,CAClE,EACI,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAQ,CAAC,CACxE,CAEA,SAASC,GAAkB,CACzBL,EAAK,SAAS,MAAM,MAAQ,GAC5BA,EAAK,SAAS,QAAQ,MAAQ,EAChC,CAEA,MAAMM,EAAqB,CAACC,EAAS,CAAE,MAAAC,EAAO,QAAAC,CAAO,IAAO,CACxDF,EAAQ,SAAS,MAAM,MAAQC,GAAU,GAC3CD,EAAQ,SAAS,QAAQ,MAAQE,GAAW,EAC9C,EAEA,SAASP,EAASC,EAAO,CACrBA,EAAM,eAAc,EAEnB,KAAM,CAAE,MAAAK,EAAO,QAAAC,CAAO,EAAKN,EAAM,cAAc,SAChD,GAAI,CAACK,EAAM,OAAS,CAACC,EAAQ,MACzB,OAAO,MAAM,8CAA8C,EAG/D,MAAMC,EAAO,CACT,MAAOP,EAAM,cAAc,SAAS,MAAM,MAAM,KAAM,EACtD,QAASA,EAAM,cAAc,SAAS,QAAQ,MAAM,KAAM,CAC7D,EACD,QAAQ,IAAIO,CAAI,EAEhBL,IACA,aAAa,WAAW,qBAAqB,CACjD,CAEA,SAASM,GAAqB,CAC5B,GAAI,CACF,MAAMP,EACJ,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GAAK,GAE7DE,EAAmBN,EAAMI,CAAQ,CAClC,OAAQQ,EAAK,CACZ,QAAQ,MAAMA,CAAG,CAClB,CACH,CAEAD,EAAoB"}