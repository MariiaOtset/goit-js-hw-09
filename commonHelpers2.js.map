{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Під час завантаження сторінки перевіряй стан сховища, і якщо там є збережені дані, то заповнюй ними поля форми. В іншому випадку поля повинні бути порожніми.\n// Під час сабміту форми очищай сховище і поля форми, а також виводь у консоль об'єкт з полями email, message та їхніми поточними значеннями.\n\nconst form = document.querySelector(\".feedback-form\");\n\nform.addEventListener(\"input\", saveToLocaleStorage);\nform.addEventListener(\"submit\", onSubmit);\n\nfunction saveToLocaleStorage(event) {\n    const formData = {\n        email: event.currentTarget.elements.email.value.trim(),\n        message: event.currentTarget.elements.message.value.trim()\n    };\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n}\n\nfunction clearFormInputs() {\n  form.elements.email.value = '';\n  form.elements.message.value = '';\n};\n\nconst setFormInputValues = (formRef, { email, message }) => {\n    formRef.elements.email.value = email  ?? '';\n  formRef.elements.message.value = message ?? '';\n};\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    \n  const { email, message } = event.currentTarget.elements;\n    const trimmedEmail = email.value.trim();\n    const trimmedMessage = message.value.trim();\n\n    if (!trimmedEmail || !trimmedMessage) {\n        return alert(\"Email and message inputs should be filled in\");\n    }\n\n  const data = {\n        email: trimmedEmail,\n        message: trimmedMessage\n    };\n    console.log(data);\n\n    clearFormInputs();\n    localStorage.removeItem(\"feedback-form-state\");\n};\n\nfunction initializeFormData() {\n  try {\n    const formData =\n      JSON.parse(localStorage.getItem('feedback-form-state')) ?? {};\n\n    setFormInputValues(form, formData);\n  } catch (err) {\n    console.error(err);\n  }\n};\n\ninitializeFormData();\n"],"names":["form","saveToLocaleStorage","onSubmit","event","formData","clearFormInputs","setFormInputValues","formRef","email","message","trimmedEmail","trimmedMessage","initializeFormData","err"],"mappings":"oCAGA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAmB,EAClDD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASD,EAAoBE,EAAO,CAChC,MAAMC,EAAW,CACb,MAAOD,EAAM,cAAc,SAAS,MAAM,MAAM,KAAM,EACtD,QAASA,EAAM,cAAc,SAAS,QAAQ,MAAM,KAAM,CAClE,EACI,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAQ,CAAC,CACxE,CAEA,SAASC,GAAkB,CACzBL,EAAK,SAAS,MAAM,MAAQ,GAC5BA,EAAK,SAAS,QAAQ,MAAQ,EAChC,CAEA,MAAMM,EAAqB,CAACC,EAAS,CAAE,MAAAC,EAAO,QAAAC,CAAO,IAAO,CACxDF,EAAQ,SAAS,MAAM,MAAQC,GAAU,GAC3CD,EAAQ,SAAS,QAAQ,MAAQE,GAAW,EAC9C,EAEA,SAASP,EAASC,EAAO,CACrBA,EAAM,eAAc,EAEtB,KAAM,CAAE,MAAAK,EAAO,QAAAC,CAAO,EAAKN,EAAM,cAAc,SACvCO,EAAeF,EAAM,MAAM,KAAI,EAC/BG,EAAiBF,EAAQ,MAAM,KAAI,EAEzC,GAAI,CAACC,GAAgB,CAACC,EAClB,OAAO,MAAM,8CAA8C,EAO/D,QAAQ,IAJG,CACP,MAAOD,EACP,QAASC,CACjB,CACoB,EAEhBN,IACA,aAAa,WAAW,qBAAqB,CACjD,CAEA,SAASO,GAAqB,CAC5B,GAAI,CACF,MAAMR,EACJ,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GAAK,GAE7DE,EAAmBN,EAAMI,CAAQ,CAClC,OAAQS,EAAK,CACZ,QAAQ,MAAMA,CAAG,CAClB,CACH,CAEAD,EAAoB"}